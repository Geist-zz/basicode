1000 A=100:GOTO 20:REM ### TRAFOBERECHNUNG V.1.2 / RIU ###
1010 HT=HO:VT=VE:MS=5:REM maximal Sekundaerwicklungen
1020 DIM US(MS),IS(MS),L(MS),Z(MS)
1030 GOSUB 3000
1040 VE=3:GOSUB 110
1050 PRINT" Bitte geben Sie Ihre sekundaeren"
1060 PRINT" Spannungen / Stroeme ein":PRINT
1070 PRINT" (Spannungen in Volt)"
1080 PRINT" (Stroeme in Ampere)":PRINT
1090 FOR I=1 TO MS
1100 PRINT" Us";I;:INPUT"<V>= ";US(I)
1110 PRINT" Is";I;:INPUT"<A>= ";IS(I)
1120 IF (IS(I)>=0)AND(US(I)>=0) THEN 1150
1130 PRINT:PRINT"Negative Eingaben nicht moeglich !"
1140 GOSUB 250:SD=10:GOSUB 450:GOTO 1100
1150 IF US(I)=0 THEN IS(I)=0:I=MS
1160 NEXT I
1170 GOSUB 3500:GOSUB 3000
1180 VE=4:GOSUB 110
1190 PRINT" Bitte Betriebsfrequenz eingeben":PRINT
1200 PRINT" (Angabe in Hertz)":PRINT
1210 INPUT" f <Hz>= ";BF:IF BF<=0 THEN 1210
1220 PRINT
1230 PRINT:PRINT" Bitte Primaerspannung eingeben"
1240 PRINT:PRINT" (Angabe in Volt)"
1250 PRINT:INPUT" Up <V>= ";PS:IF PS<=0 THEN 1250
2000 GOSUB 100
2010 X=0:FOR I=1 TO MS:X=X+US(I)*IS(I):NEXT I
2020 GOSUB 3000
2030 HO=1:VE=4:GOSUB 110
2040 SR=X:CN=2:GOSUB 4010
2050 PRINT"Sekundaerleistung Ps = ";SR$;" VA"
2070 IF X<=0 THEN SD=20:GOSUB 450:GOTO 1000
2080 I=6:IF X>4 THEN I=5
2090 IF X>13 THEN I=4
2100 IF X>26 THEN I=3
2110 IF X>48 THEN I=2
2120 IF X>65 THEN I=1
2130 IF X<=125 THEN 2230
2140 GOSUB 250
2150 HO=5:VE=8:GOSUB 110
2160 PRINT"Berechnung nur bis 125 VA"
2170 HO=1:VE=12:GOSUB 110
2180 PRINT"Wollen Sie weitere Berechnungen(J/N)?"
2190 GOSUB 210
2200 IF IN=74 THEN 1000:REM JA
2210 IF IN=78 THEN 950:REM ende
2220 GOTO 2190
2230 READ X$,B2,C2,D2,E2,F2,G2,H2,K2
2240 I=I-1:IF I>0 THEN 2230
2250 HO=1:VE=8:GOSUB 110
2260 PRINT"Benutzen Sie einen ";X$;" Kern"
2270 SR=X/B2:CN=2:GOSUB 4010
2280 PRINT
2290 PRINT" Primaerleistung Pp = ";SR$;" VA"
2300 Y=(X/B2/PS)^2+C2*C2
2310 S1=SQR(Y)
2320 SR=S1:CN=3:GOSUB 4010
2330 PRINT
2340 PRINT" Primaerstrom Ip = ";SR$;" ";"Ampere"
2350 N1=(2+B2)/3*PS*K2/BF
2360 P1=1.13*SQR(S1/E2)
2370 SR=P1:CN=2:GOSUB 4010
2380 PRINT
2390 PRINT" Prim.Drahtdurchmesser Dp = ";SR$;" mm"
2400 R1=N1*F2*2.72E-5/P1/P1
2410 SR=R1:GOSUB 4010
2420 PRINT
2430 PRINT" Prim.Widerstand Rp = ";SR$;" Ohm"
2440 N2=INT((PS-S1*R1)*K2/BF+0.5)
2450 PRINT
2460 PRINT" Prim.Windungen Np = ";N2
2470 GOSUB 3500:GOSUB 3000
2480 HO=5:VE=4:GOSUB 110
2490 PRINT"Isolationsvorschrift-Primaer"
2500 UU=PS*H2/P1/N2
2510 SR=UU:CN=1:GOSUB 4010
2520 HO=1:VE=8:GOSUB 110
2530 PRINT"Prim. Lagenspannung Ul = ";SR$;" Volt"
2540 QQ=INT(25/UU):IF UU>25 THEN QQ=1
2550 FF=1:IF P1<=1 THEN FF=0.06
2560 IF P1<0.2 THEN FF=0.03
2570 HO=1:VE=12:GOSUB 110
2580 PRINT"Es muss nach ";QQ;" Lage isoliert werden"
2590 PRINT:PRINT" mit ";FF;" mm Lackpapier"
2600 GOSUB 3500:GOSUB 3000
2610 PRINT" Sekundaerer Drahtdurchmesser:"
2620 VE=10:GOSUB 110
2630 FOR I=1 TO MS
2640 SR=1.13*SQR(IS(I)/E2):CN=2:GOSUB 4010
2650 IF IS(I)=0 THEN 2670
2660 PRINT:PRINT" Wicklung ";I;" : ";SR$;" mm"
2670 NEXT I
2680 GOSUB 3500:GOSUB 3000
2690 PRINT" Sekundaerer Wicklungswiderstand:"
2700 VE=10:GOSUB 110
2710 FOR I=1 TO MS
2720 IF IS(I)=0 THEN 2770
2730 L(I)=1.13*SQR(IS(I)/E2)
2740 Z(I)=8.1E-5*G2*US(I)*K2/(BF*(2+B2)*L(I)*L(I))
2750 SR=Z(I):CN=2:GOSUB 4010
2760 PRINT" Wicklung ";I;" : ";SR$;" Ohm":PRINT
2770 NEXT I
2780 GOSUB 3500:GOSUB 3000
2790 PRINT" Sekundaere Windungszahlen:"
2800 VE=10:GOSUB 110
2810 FOR I=1 TO MS
2820 IF IS(I)=0 THEN 2850
2830 Y=INT((US(I)+IS(I)*Z(I))*K2/BF)
2840 PRINT" Wicklung ";I;" : ";Y;" Windungen":PRINT
2850 NEXT I
2860 GOSUB 3500
2870 HO=5:VE=10:GOSUB 110
2880 SR$="Viel Spass beim Wickeln !":GOSUB 150
2890 SD=100:GOSUB 450
2900 GOTO 950
3000 SR$="+++ TRAFOBERECHNUNG BIS 125 VA +++"
3010 HO=INT((HT-LEN(SR$))/2)-3:VE=0:GOSUB 110
3020 GOSUB 150
3030 HO=0:VE=6:GOSUB 110
3040 RETURN
3500 HO=HT-14:VE=VT:GOSUB 110
3510 SR$="<TASTE>":GOSUB 150
3520 GOSUB 210:GOSUB 100
3530 RETURN
4000 REM Formatieren
4010 IF SR<10 THEN CT=CN+2:GOTO 4030
4020 CT=INT(CN+2+LOG(SR)/LOG(10))
4030 GOSUB 310
4040 RETURN
25000 DATA "M 102 A"
25010 DATA 0.88,0.07,1100,2.6,179,197,55,170.62517
25020 DATA "M 85"
25030 DATA 0.86,0.045,850,3.0,155,186,45,220.80904
25040 DATA "M 74"
25050 DATA 0.84,0.032,670,3.2,147,182,39,280.13087
25060 DATA "M 65"
25070 DATA 0.80,0.022,480,3.8,127,155,33,391.01601
25080 DATA "M 55"
25090 DATA 0.75,0.012,300,4.7,106,129,29,625.6256
25100 DATA "M 42"
25110 DATA 0.65,0.006,160,6.0,81,102,22,1173.048
30000 REM
30010 REM TRAFOBERECHNUNG BIS 125 VA
30020 REM --------------------------
30030 REM
32000 REM Autor: ???
32010 REM Fuer BASICODE bearbeitet:
32020 REM W. Koronowski; 10.12.89
32030 REM ATARI 800 XL
32040 REM Erstausstrahlung Radio DDR
32050 REM 891213
32060 REM -------------------------
32070 REM Version 1.2 bearbeitet von:
32080 REM J.Haubrich / Eindhoven NL
32090 REM Radio DDR 900221
