1000 REM BASICODE-3 BOOT programma
1010 CLEAR ,,&H1000:SCREEN 0:WIDTH 80:CLS:OPTION BASE 0:DEF SEG
1020 SUBRT%=0:AANTAL%=&HB000
1030 DIM BOOT%(250):DIM BUFFER%(&H6000)
1100 PRINT"Laad het BASICODE-3 BOOT programma, momentje A.U.B."
1110 DATA 8B55,1EEC,8B06,0E76,148B,FA83,7562,E406,2461,E6F7
1120 DATA 8B61,0C76,0C8B,768B,8B06,B81C,0040,C08E,21E4,A226
1130 DATA 0067,F90C,21E6,8926,681E,8B00,0876,3C8B,768B,8B0A
1140 DATA E804,0000,835B,40EB,892E,2A8F,8B01,03F0,B1F0,F602
1150 DATA B4F1,0300,F6F0,B4F1,0300,2EC6,8789,008D,892E,B087
1160 DATA 2E00,8789,00F9,F633,8026,1726,FB00,C726,6A06,0000
1170 DATA 3300,43DB,F626,1706,0400,3675,26E8,8701,03CE,81CE
1180 DATA 41F9,7800,81EA,00FB,7810,EBE2,902A,DB33,F38B,2643
1190 DATA 06F6,0017,7504,E813,0103,CE87,CE03,F981,0041,0F79
1200 DATA FB81,00FF,E478,8026,1726,FB00,8CE9,B400,BB00,0008
1210 DATA F626,1706,0400,EA75,DAE8,8700,03CE,33CE,26F6,06F6
1220 DATA 0017,7504,E8D9,00C9,CE87,CE03,F626,1706,0400,CA75
1230 DATA BAE8,8700,03CE,81CE,41F9,7900,FE13,80C7,03FF,E478
1240 DATA D0F9,B7DC,FE00,75CB,EBCA,9010,FF80,7402,D0EF,B7EC
1250 DATA FE00,74CB,EB02,88B8,4725,2606,1E8B,006A,BB53,B800
1260 DATA C38E,805B,80C4,8826,4327,8143,A0FB,7800,3302,07DB
1270 DATA 8926,6A1E,2600,0EFF,0068,0374,4BE9,8BFF,0876,1C8B
1280 DATA FB2B,768B,8906,8B3C,D1D7,83EA,05FA,3078,0F8B,4933
1290 DATA 33FE,FC49,CD32,ED32,E432,D233,EF83,4306,8A43,3207
1300 DATA 34C8,8880,0307,81D0,FFE2,4F3F,EE75,768B,890A,8B0C
1310 DATA 0C76,1489,FA83,7562,E406,0C61,E608,2661,67A0,E600
1320 DATA 0721,8B1F,5DE5,0ACA,B900,0200,24EC,7510,EC08,1024
1330 DATA FBE1,06EB,EC90,1024,FBE0,D9F7,C181,0200,00C3
1400 RESTORE:SOM=0:FOR I%=0 TO 228:READ O$
1410 BOOT%(I%)=VAL("&H"+O$):SOM=SOM+BOOT%(I%):NEXT
1420 IF SOM<>-746473! THEN PRINT"DATA fout, stop programma";SOM:END
1500 INPUT"Start het leesprogramma? Type J/n ",O$
1510 IF(O$="N")OR(O$="n")THEN END
1520 INPUT"Geef de naam van het te lezen programma: ",NAAM$
1530 GOSUB 5000
1540 IF AANTAL%=0 THEN BEEP:PRINT"Er is niets ingelezen!":END
1550 SOM%=VIDEO%:XSOM%=SNELHEID%
1560 GOSUB 4000
1570 END
4000 REM Verifieer checksum en schrijf programma naar schijf
4010 IF AANTAL%<0 THEN SOM=(65536!+AANTAL%) ELSE SOM=AANTAL%
4020 PRINT"Aantal gelezen bytes: ";SOM
4030 IF(AANTAL% AND 1)THEN PRINT"Waarschuwing: oneven aantal bytes!"
4040 GOSUB 4200:M%=M%-3
4050 IF(XSOM% AND 255)<>0 THEN PRINT"XOR checksum is onjuist: ";HEX$(XSOM%)
4060 IF SOM%<>(BUFFER%(M%+1)XOR &H8080)THEN PRINT"Test checksum is onjuist"
4100 PRINT"Schrijf data naar schijf, momentje A.U.B."
4110 CLOSE):OPEN "O",#1,NAAM$
4120 FOR I%=1 TO M%:PRINT #1,MKI$(BUFFER%(I%));:NEXT
4130 CLOSE)
4140 RETURN
4200 IF AANTAL%>=0 THEN M%=AANTAL%\2 ELSE M%=(65536!+AANTAL%)/2
4210 RETURN
5000 REM BASICODE-3 programma lader
5010 PRINT"Start inlezen programma ";NAAM$:GOSUB 4200
5020 POORT%=&H379
5030 VIDEO%=&HB000
5040 SNELHEID%=22
5400 BUFADR%=VARPTR(BUFFER%(0)):SUBRT%=VARPTR(BOOT%(0))
5410 CALL SUBRT%(POORT%, VIDEO%, SNELHEID%, BUFADR%, AANTAL%)
5420 RETURN

